<!DOCTYPE html>
<html lang="de">

<head>

    <meta charset="UTF-8">
    <title>Emissionsdaten</title>
    <link rel="stylesheet" href="style.css">
<!-- Hier wird die Seite responsive gemacht -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>


<body>
    <form id="suchleiste" class="suchleiste" onsubmit="return handleSuche(event);">
        <input type="text" name="q" placeholder="Suche...">
        <button type="submit">üîç</button>
    </form>
    <script>
        //Aktive Suchleiste mittels java
        function handleSuche(event) {
            event.preventDefault();
            // Nur Buchstaben, Zahlen und Leerzeichen erlauben (anti injizierter code)
            let query = event.target.q.value.trim().toLowerCase();
            query = query.replace(/[^a-z0-9√§√∂√º√ü\s]/gi, '');
            //wenn Suchbegriff gefunden dann Seite √∂ffnen
            if (query === "impressum") {
                window.location.href = "Impressum.html";
                return false;
            } else if (query === "datenschutz") {
                window.location.href = "Datenschutz.html";
                return false;
            } else if (query === "datentabelle") {
                window.location.href = "datentabelle.html";
                return false;
            } else {
                alert("Suchbegriff nicht gefunden");
            }
        }
    </script>

    <h1>Co¬≤-Emissionsdaten</h1>

       
    </p>
    <p class="TextCo2">
        Unsere Mission ist es, Bewusstsein zu schaffen, Wissen zu teilen und gemeinsam
        positive Ver√§nderungen zu bewirken. Schau dich gerne um und werde Teil der
        Bewegung f√ºr eine bessere Zukunft!
    </p>
   

    <h1 style="text-align:center;">Emissionsdaten Tabelle</h1>
    <table class="tabelle Emissionsdaten" id="emissionstabelle">
        <thead>
            <tr>
                <th>
                    Unternehmen
                    <button onclick="toggleSortOrderByName(0)">üîÑ</button>
                </th>
                <th>
                    Land
                    <button onclick="toggleSortOrderByName(1)">üîÑ</button>
                </th>
                <th>
                    CO‚ÇÇ-Emissionen (pro Jahr)
                    <button onclick="toggleSortOrderByEmissions()">üîÑ</button>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Lufthansa Group</td>
                <td>Deutschland</td>
                <td>ca. 28.967.753 Tonnen CO‚ÇÇ</td>
            </tr>
            <tr>
                <td>Deutsche Bahn</td>
                <td>Deutschland</td>
                <td>ca. 10.110.000 Tonnen CO‚ÇÇ</td>
            </tr>
            <tr>
                <td>Apple</td>
                <td>USA</td>
                <td>ca. 15.600.000 Tonnen CO‚ÇÇ</td>
            </tr>
            <tr>
                <td>Lenovo</td>
                <td>China</td>
                <td>ca. 10.200.000 Tonnen CO‚ÇÇ</td>
            <tr>
                <td>Solvay</td>
                <td>Belgien</td>
                <td>ca. 6.000.000 Tonnen CO‚ÇÇ</td>
            </tr>
        </tbody>
    </table>

    <script>
        let ascendingEmissions = true;
        let ascendingName = [true, true];

        function toggleSortOrderByEmissions() {
            ascendingEmissions = !ascendingEmissions;
            sortTableByEmissions();
        }

        function toggleSortOrderByName(columnIndex) {
            ascendingName[columnIndex] = !ascendingName[columnIndex];
            sortTableByName(columnIndex);
        }

        function sortTableByEmissions() {
            const table = document.getElementById("emissionstabelle");
            const rows = Array.from(table.tBodies[0].rows);

            rows.sort((a, b) => {
                const aEmissions = parseInt(a.cells[2].textContent.replace(/[^0-9]/g, ''));
                const bEmissions = parseInt(b.cells[2].textContent.replace(/[^0-9]/g, ''));
                return ascendingEmissions ? aEmissions - bEmissions : bEmissions - aEmissions;
            });

            rows.forEach(row => table.tBodies[0].appendChild(row));
        }

        function sortTableByName(columnIndex) {
            const table = document.getElementById("emissionstabelle");
            const rows = Array.from(table.tBodies[0].rows);
            
            rows.sort((a, b) => {
                const aText = a.cells[columnIndex].textContent.trim().toLowerCase();
                const bText = b.cells[columnIndex].textContent.trim().toLowerCase();
                return ascendingName[columnIndex] ? aText.localeCompare(bText) : bText.localeCompare(aText);
            });

            rows.forEach(row => table.tBodies[0].appendChild(row));
        }
    </script>

 <p class="Logo beschreibung">Das ist unser Logo / ein Symbol f√ºr unsere Mission.</p>
    
    <!-- Bild von Logo -->
<div style="display: flex; align-items: center; justify-content: center; gap: 24px; margin-top: 24px;">
    <figure style="margin: 0; text-align: center;">
        <img class="Logo Foto" src="logo.jpeg" style="display: block; max-width: 100%;">
        <figcaption style="font-size: 0.8em; color: gray; margin-top: 4px;">
            <!-- Bildquelle -->
            Quelle: <a href="https://pngtree.com/freepng/environmental-protection-natural-environment-logo-vector_9204796.html" target="_blank" style="color: gray; text-decoration: none;">
                https://pngtree.com
            </a>
        </figcaption>
    </figure>
</div>

</body>
    <footer class="footer">    
        <nav style="display: flex; justify-content: center;"></nav>
        <li><a href="Datenschutz.html">Datenschutz</a></li>
        <li><a href="Impressum.html">Impressum</a></li>
        </nav>
    </footer>
</html>